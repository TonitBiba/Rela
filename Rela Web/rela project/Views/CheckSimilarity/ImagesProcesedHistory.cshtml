@model IEnumerable<Rela_project.Models.CheckSimilarity.HistoryCheckSimilarity>
@{
    ViewBag.Title = "Images Procesed";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var imagesHistory = Model.ToList();
}
<style>
    .carousel-inner img {
        width: 100%;
        height: 100%;
        max-width:500px;
        max-height:500px;
    }
</style>

<p style="font-size:1.6em">
    History of procesed images
</p>

@{
    if (imagesHistory.Count > 0)
    {
<div class="d-block m-auto" style="width:500px; height:500px;">
    <div id="historyImagesProcesed" class="carousel slide" data-ride="carousel">
        <ul class="carousel-indicators">
            @{
                foreach (var image in imagesHistory)
                {
                    if (imagesHistory.IndexOf(image) == 0)
                    {
                        <li data-target="#historyImagesProcesed" data-slide-to="@imagesHistory.IndexOf(image)" class="active"></li>
                    }

                    else
                    {
                        <li data-target="#historyImagesProcesed" data-slide-to="@imagesHistory.IndexOf(image)"></li>
                    }
                }
            }
        </ul>

        <div class="carousel-inner">
            @{
                foreach (var image in imagesHistory)
                {
                    if (imagesHistory.IndexOf(image) == 0)
                    {
                        <div class="carousel-item active">
                            <img src="data:Image/png;base64,@image.image">
                        </div>
                    }
                    else
                    {
                        <div class="carousel-item">
                            <img src="data:Image/png;base64,@image.image">
                        </div>
                    }
                }

            }
        </div>

        <a class="carousel-control-prev" href="#historyImagesProcesed" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#historyImagesProcesed" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
    </div>
</div>
    }
    else
    {
        <div class="alert alert-dismissible alert-info">
            <button class="close" type="button" data-dismiss="alert">&times;</button>
            <h4 class="alert-heading">No photo</h4>
            <p class="mb-0"> Dear user you do not have any image procesed in our site. If you want to make history and enjoy this project <b><a class="alert-link" href="/Home/Main">click here</a></b>.</p>
        </div>
    }
}
